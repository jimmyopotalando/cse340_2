<%- include('../partials/header') %>

    <main>
        <h1>
            <%= title %>
        </h1>

        <% if (errors && errors.length> 0) { %>
            <ul class="error-list">
                <% errors.forEach(function(error) { %>
                    <li>
                        <%= error.msg %>
                    </li>
                    <% }) %>
            </ul>
            <% } %>

                <% if (message) { %>
                    <div class="message">
                        <%= message %>
                    </div>
                    <% } %>

                        <!-- === Account Info Update Form === -->
                        <section>
                            <h2>Update Account Information</h2>
                            <form action="/account/update-account" method="POST">
                                <label for="firstname">First Name</label>
                                <input type="text" id="firstname" name="firstname" required
                                    value="<%= accountData.firstname %>">

                                <label for="lastname">Last Name</label>
                                <input type="text" id="lastname" name="lastname" required
                                    value="<%= accountData.lastname %>">

                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" required value="<%= accountData.email %>">

                                <input type="hidden" name="account_id" value="<%= accountData.account_id %>">
                                <button type="submit">Update Account</button>
                            </form>
                        </section>

                        <!-- === Password Change Form === -->
                        <section>
                            <h2>Change Password</h2>
                            <form action="/account/update-password" method="POST">
                                <label for="password">New Password</label>
                                <input type="password" id="password" name="password" required
                                    pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#\$%\^&\*]).{8,}"
                                    title="Password must be at least 8 characters, include uppercase and lowercase letters, a number, and a special character.">

                                <small>Password must be at least 8 characters and include uppercase, lowercase, a
                                    number, and a special character.</small>

                                <input type="hidden" name="account_id" value="<%= accountData.account_id %>">
                                <button type="submit">Change Password</button>
                            </form>
                        </section>
    </main>

    <%- include('../partials/footer') %>